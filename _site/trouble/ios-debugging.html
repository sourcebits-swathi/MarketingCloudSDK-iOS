<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>MarketingCloudSDK iOS (v6.0.0) : iOS Debugging</title>
        <meta name="description" content="">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/gist.css">
<script src="/scripts/gists.js"></script>
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <h4><a class=brand href="/">MarketingCloudSDK iOS (v6.0.0)</a>
    
    
</h4>


                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        
    
        
        

        
            
                <li class=nav-header>Get Started</li>
            
            <li data-order="2"><a href="/get-started/test-first-push.html">Test SDK Setup</a></li>
        
            
            <li data-order="3"><a href="/get-started/appledocs.html">Appledocs</a></li>
        
            
            <li data-order="1"><a href="/get-started/apple.html">Initial SDK Setup</a></li>
        
    
        
        

        
    
        
        

        
    
        
        

        
            
                <li class=nav-header>SDK Implementation</li>
            
            <li data-order="2"><a href="/sdk-implementation/user-data.html">Device and Contact Registration</a></li>
        
            
            <li data-order="7"><a href="/sdk-implementation/implementation-urlhandling.html">Handle URLs</a></li>
        
            
            <li data-order="1"><a href="/sdk-implementation/data-privacy-iOS.html">Data Protection and Privacy</a></li>
        
            
            <li data-order="8"><a href="/sdk-implementation/iOS-9.html">iOS 9 Implementation</a></li>
        
            
            <li data-order="10"><a href="/sdk-implementation/sdk-migration.html">SDK Migration to Version 5.x</a></li>
        
            
            <li data-order="9"><a href="/sdk-implementation/business-unit-switching.html">Switch Business Units</a></li>
        
    
        
        

        
            
                <li class=nav-header>Push Notifications</li>
            
            <li data-order="1"><a href="/push-notifications/push-notifications.html">Push Notifications Overview</a></li>
        
            
            <li data-order="4"><a href="/push-notifications/rich-notifications.html">Rich Notifications</a></li>
        
            
            <li data-order="3"><a href="/push-notifications/interactive-notifications.html">Interactive Notifications</a></li>
        
            
            <li data-order="2"><a href="/push-notifications/custom-sound.html">Custom Sound</a></li>
        
            
            <li data-order="5"><a href="/push-notifications/custom-keys.html">Custom Keys</a></li>
        
    
        
        

        
            
                <li class=nav-header>Location Services</li>
            
            <li data-order="1"><a href="/location/geolocation-overview.html">Geofence and Beacon Messaging</a></li>
        
            
            <li data-order="2"><a href="/location/geolocation.html">Background Location Updates</a></li>
        
    
        
        

        
            
                <li class=nav-header>Inbox</li>
            
            <li data-order="1"><a href="/inbox/inbox.html">Inbox</a></li>
        
    
        
        

        
            
                <li class=nav-header>Analytics</li>
            
            <li data-order="2"><a href="/analytics/personalization-collect.html">Personalization Builder and Collect API Integration</a></li>
        
            
            <li data-order="1"><a href="/analytics/analytics.html">Analytics</a></li>
        
    
        
        

        
            
                <li class=nav-header>OpenDirect</li>
            
            <li data-order="4"><a href="/opendirect/opendirect.html">OpenDirect</a></li>
        
    
        
        

        
    
        
        

        
            
                <li class=nav-header>User Data</li>
            
            <li data-order="6"><a href="/user-data/data-migration.html">User Data Migration</a></li>
        
    
        
        

        
            
                <li class=nav-header>Troubleshooting</li>
            
            <li data-order="2"><a href="/trouble/multiple-push-sdks.html">Multiple Push SDKs Troubleshooting</a></li>
        
            
            <li data-order="1"><a href="/trouble/ios-debugging.html">iOS Debugging</a></li>
        
    
        
        

        
    
        
        

        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h2>iOS Debugging</h2>
</div>

<p>The MarketingCloudSDK.framework uses extensive internal logging to record actions taken by the SDK to informational and diagnostic purposes.</p>

<p>General, default-level logging is enabled at all times. Additionally, the SDK writes error and fault-level logs when conditions occur which must be recorded.</p>

<p>Enable debug-level logging after configuration using this call.</p>

<script src="https://gist.github.com/sfmc-mobilepushsdk/e952d4f8272e3b926f7eaa20031359aa.js"></script>

<script src="https://gist.github.com/sfmc-mobilepushsdk/0bd9cdf402145e97136a222bbcad426d.js"></script>

<p>Query the state of debug-level logging using this call.</p>

<script src="https://gist.github.com/sfmc-mobilepushsdk/7670d9404859b1a758c775e1add602a9.js"></script>

<script src="https://gist.github.com/sfmc-mobilepushsdk/0663b6b494a586e86228b878673a97e5.js"></script>

<p>We send all logging output to Apple’s unified logging system. Read this information using Xcode’s “Devices and Simulators” window or the macOS Console application. When SDK debug logging is enabled, the SDK uses the <em>OS_LOG_TYPE_DEBUG</em> value. Make sure to disable logging in your application for release builds to the Apple App Store.</p>

<p>Review Apple documentation for more information about <a href="https://developer.apple.com/documentation/os/logging?language=objc">unified logging</a>.</p>

<h4 id="device-token">Device Token</h4>

<p>For testing and troubleshooting purposes, retrieve your device token from a running app by calling [[MarketingCloudSDK sharedInstance] sfmc_deviceToken] and sending the result to yourself via email, alert, or other method.</p>

<h4 id="additional-resources">Additional Resources</h4>

<p>Use this information when testing your app and the device either does not receive messages or receives messages sporadically. Testing the app while connected to a corporate Wi-Fi network could cause issues if your IT team does not correctly configure port accessibility (preventing the test device from receiving messages).
<br /></p>

<ul>
  <li><a href="https://developer.apple.com/library/ios/technotes/tn2265/_index.html" target="_blank">APNS Debugging Information</a></li>
  <li><a href="https://developer.apple.com/library/ios/technotes/tn2265/tn2265_PersistentConnectionLogging.zip" target="_blank">APNS Debugging Provisioning File</a></li>
  <li><a href="http://support.apple.com/kb/TS4264" target="_blank">APNS Port Functionality Information</a></li>
</ul>

<h4 id="unblock-network-ports">Unblock network ports</h4>

<p>Ensure that your network team unblocks the following ports to provide communication between the moble device and APNS servers for MobilePush functionality:</p>

<ul>
  <li>TCP port 5223 (used by devices to communicate to the APNS servers)</li>
  <li>TCP port 2195 (used to send notifications to the APNS servers)</li>
  <li>TCP port 2196 (used by the APNS feedback service)</li>
  <li>TCP port 443 (used as a fallback service for Wi-Fi devices when those devices cannot communicate to the APNS service on port 5223)</li>
</ul>

<h4 id="add-debugging-statements-to-the-log">Add debugging statements to the log</h4>

<p>You can toggle the SDK logging facility by including the following lines in your code:</p>

<script src="https://gist.github.com/sfmc-mobilepushsdk/9d9f0a6e38f66e637871fcbdeffef9bb.js"></script>

<script src="https://gist.github.com/sfmc-mobilepushsdk/0e519d3566a62c340f4708464bda77ea.js"></script>

<h4 id="add-sdk-state-information-to-log">Add SDK State information to log</h4>

<p>For a complete list of information that the SDK has and it’s current state, you can implement getSDKState() as follows:</p>
<div class="tab" id="getsdkstate"><button class="tablinks" id="getsdkstateObj-CButton" onclick="openLanguage(event, 'getsdkstate', 'getsdkstateObj-C')">Obj-C</button><button class="tablinks" id="getsdkstateSwiftButton" onclick="openLanguage(event, 'getsdkstate', 'getsdkstateSwift')">Swift</button></div>
<div id="getsdkstateGists"><div id="getsdkstateObj-C" class="tabcontent">
    <script src="https://gist.github.com/sfmc-mobilepushsdk/9275c899342cb46ea4f9f6367bfd7f92.js"></script>
  </div><div id="getsdkstateSwift" class="tabcontent">
    <script src="https://gist.github.com/sfmc-mobilepushsdk/c5b95248b98586894e68e70dbdcbbf3b.js"></script>
  </div></div>
<script>document.getElementById("getsdkstateObj-CButton").click()</script>
<p>The SDK will output a JSON string like this:</p>

<script src="https://gist.github.com/sfmc-mobilepushsdk/63d6ce621fb3130bc52d27fd67e42ec6.js"></script>



                    </div>
                
            </div>

            

            <div class=row-fluid>
                <div id=footer class=span12>
                    Documentation for <a href="https://github.com/salesforce-marketingcloud/MarketingCloudSDK-iOS" target="_blank">MarketingCloudSDK iOS (v6.0.0)</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>

        
            <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-82902574-4', 'auto');
  ga('send', 'pageview');
</script>

        
    </body>
</html>
